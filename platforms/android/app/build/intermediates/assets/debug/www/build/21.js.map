{"version":3,"sources":["../../src/pages/offer-checkout/offer-checkout.module.ts","../../src/pages/offer-checkout/offer-checkout.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OfferCheckoutPage } from './offer-checkout';\n\n@NgModule({\n  declarations: [\n    OfferCheckoutPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OfferCheckoutPage),\n  ],\n  exports:[\n    OfferCheckoutPage\n  ]\n})\nexport class OfferCheckoutPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/offer-checkout/offer-checkout.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { ServiceProvider } from '../../providers/service/service';\nimport { ApiProvider } from '../../providers/api/api';\nimport { NewTransactionPage } from '../instamojo/new_transaction'\nimport { HttpClient } from '@angular/common/http';\n\n/**\n * Generated class for the OfferCheckoutPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-offer-checkout',\n  templateUrl: 'offer-checkout.html',\n})\nexport class OfferCheckoutPage {\n  offer_id:any='';\n  accepted_id:any='';\n  AllAddress:any=[];\n  fname:any='';\n  lname:any='';\n  email:any='';\n  mobile:any='';\n  address:any='';\n  city:any='';\n  pin:any='';\n  ShippingInfo:any;\n  ReportDetails:any;\n  ItemCost:any=0;\n  TotalAmount:any=0;\n  ShippingCost = 0;\n  location:any='';\n  payment:any='';\n  shipping: string;\n  cart_detail:any;\n  constructor(public navCtrl: NavController, public navParams: NavParams,public http:HttpClient,public api:ApiProvider,public service:ServiceProvider,public auth:AuthProvider) {\n\n    this.offer_id=this.navParams.get('offer_id');\n    this.accepted_id=this.navParams.get('accepted_id');\n    console.log(this.offer_id,this.accepted_id);\n\n    let base=this;\n    base.api.GET(\"/GetOfferPayment/\"+base.offer_id+'/'+base.accepted_id).then((res:any)=> {\n      console.log(res)\n      // base.ReportDetails = Cart.data;\n      base.cart_detail= res.data.CartDetails;\n      base.ShippingCost = res.data.ShippingCost;\n      base.ItemCost = (res.data.ReportDetails.totalAmount)-(res.data.ReportDetails.totalShipping);\n      base.TotalAmount = res.data.ReportDetails.totalAmount+(+ base.ShippingCost);\n  }).catch( error => {\n\n  });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad OfferCheckoutPage');\n    this.getAllAddress();\n  }\n\n  getAllAddress(){\n    const base = this;\n    base.service.LoaderShow();\n    base.api.GET(\"/myAddresses\").then(function (address : any) {\n      base.service.LoaderHide();\n      if(address.status=='success')\n      {\n        base.AllAddress=address.data;\n        console.log(base.AllAddress);\n      }\n\n    }).catch( error => {\n      base.service.LoaderHide();\n      base.service.Warning('error');\n    });\n  }\n\n  selectAddress(info)\n  {\n    this.fname=info.firstname;\n    this.lname=info.lastname;\n    this.email=info.email;\n    this.address=info.address1;\n    this.city=info.city;\n    this.pin=info.pin;\n    this.mobile=info.mobile;\n  }\n\n  Checkout()\n  {\n    if(this.shipping=='')\n    {\n      this.service.Warning(\"Choose your shipping location\")\n    }\n\n    if(this.fname=='')\n    {\n      this.service.Warning(\"Enter your first name\")\n    }\n    else if(this.lname=='')\n    {\n      this.service.Warning(\"Enter your last name\")\n    }\n    else if(this.email=='')\n    {\n      this.service.Warning(\"Enter your email\")\n    }\n    else if(this.mobile=='')\n    {\n      this.service.Warning(\"Enter your mobile\")\n    }\n    else if(this.address=='')\n    {\n      this.service.Warning(\"Enter your address\")\n    }\n    else if(this.city=='')\n    {\n      this.service.Warning(\"Enter your city\")\n    }\n    else if(this.pin=='')\n    {\n      this.service.Warning(\"Enter your postal pin\")\n    }\n    else{\n      let base=this;\n      if(base.payment == \"Cash On Delivery\")\n      {\n        base.service.LoaderShowmsg(\"Placing your order\");\n        base.api.POST(\"/PlaceOfferOrder\", {\n          CartID: base.cart_detail[0].cart_id,\n          NegHisID:base.accepted_id,\n          NegID: base.offer_id,\n          address1:base.address,\n          address2: '',\n          pin :base.pin,\n          city : base.city,\n          email: base.email,\n          firstname: base.fname,\n          lastname:base.lname,\n          mobile: base.mobile,\n          orderAmt:base.TotalAmount,\n          payment: \"Cash On Delivery\",\n          shippingAmt: base.ShippingCost,\n          payment_detail :''\n        }).then(function (success : any) {\n          base.service.LoaderHide();\n          if(success.status=='success')\n          {\n              base.navCtrl.setRoot('OrderPage');\n              base.service.Success(\"Order placed successfully\");\n          }\n          else{\n            base.service.Warning(success.data)\n          }\n\n\n        }).catch( error => {\n          base.service.LoaderHide();\n          base.service.Warning(\"Something went wrong. Try again later\")\n        });\n      }\n      else{\n          base.navCtrl.push(NewTransactionPage,{\n          page:'offer-checkout',\n          CartID: base.cart_detail[0].cart_id,\n          NegHisID:base.accepted_id,\n          NegID: base.offer_id,\n          address1:base.address,\n          address2: '',\n          email: base.email,\n          firstname: base.fname,\n          lastname:base.lname,\n          mobile: base.mobile,\n          orderAmt:base.TotalAmount,\n          payment: \"instamojo\",\n          shippingAmt: base.ShippingCost})\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/offer-checkout/offer-checkout.ts"],"sourceRoot":""}