{"version":3,"sources":["../../src/pages/cart/cart.module.ts","../../src/pages/cart/cart.ts"],"names":[],"mappings":"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","file":"55.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CartPage } from './cart';\n\n@NgModule({\n  declarations: [\n    CartPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CartPage),\n  ],\n  exports:[\n    CartPage\n  ]\n})\nexport class CartPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.module.ts","import { Component } from '@angular/core';\nimport {IonicPage, NavController, NavParams, PopoverController} from 'ionic-angular';\nimport {PaytypePage} from \"../paytype/paytype\";\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { ApiProvider } from '../../providers/api/api';\nimport { ServiceProvider } from '../../providers/service/service';\nimport { AuthProvider } from '../../providers/auth/auth';\n/**\n * Generated class for the CartPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-cart',\n  templateUrl: 'cart.html',\n})\nexport class CartPage {\n  base_url:any;\n  cartData:any=[];\n  cartDataLength:any;\n  totalPrice:any=0;\n  product:any = {\n    quantity:0\n  }\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,public popoverCtrl: PopoverController,public http:HttpClient,public api:ApiProvider,public service:ServiceProvider,public auth:AuthProvider) {\n    this.base_url=api.Base_Url;\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CartPage');\n    this.fetchCart();\n  }\n  increment() {\n    if(this.product.quantity < 10) {\n      this.product.quantity++;\n    }\n  }\n\n  decrement() {\n    if(this.product.quantity > 0) {\n      this.product.quantity--;\n    }\n  }\n\n  paytype(){\n    const popover = this.popoverCtrl.create('PaytypePage');\n    popover.present();\n  }\n\n  fetchCart()\n  {\n    let base=this;\n    base.service.LoaderShowmsg(\"Loading your cart items..\")\n    var url=base.base_url+'/GetCart?CartID='+base.api.getCartID();\n    console.log(url);\n    let httpHeaders = new HttpHeaders({\n      'Accept' : 'application/json',\n      'authorization' : \"Bearer \"+base.auth.getToken()\n    });\n\n    let options = {\n      headers: httpHeaders\n    };\n    base.http.get(url,options).subscribe((response:any)=>{\n      base.service.LoaderHide();\n      console.log(response);\n      base.cartData=response.data.CartDetails;\n      base.cartDataLength=base.cartData.length;\n      base.totalPrice=response.data.ReportDetails.totalAmount;\n      //base.total_cart_item=response.data.CartDetails.length;\n    })\n  }\n\n  UpdateCart(id, action)\n  {\n    const base = this;\n   \n    const QTY = (<HTMLInputElement>document.getElementById('QTY'+id)).value;\n    console.log(QTY);\n    let CurrentQTY = 0;\n    if(action == 1){\n      CurrentQTY = parseInt(QTY) + 1;\n      console.log(CurrentQTY)\n    } else {\n      CurrentQTY = parseInt(QTY) - 1;\n      console.log(CurrentQTY)\n    }\n    if(CurrentQTY>0)\n    {\n      base.service.LoaderShow();\n      (<HTMLInputElement>document.getElementById('QTY'+id)).value=CurrentQTY.toString();\n      var cart_update_url=base.base_url+'/updateCart/'+id;\n      console.log(cart_update_url);\n      let httpHeaders = new HttpHeaders({\n        'Accept' : 'application/json',\n        'authorization' : \"Bearer \"+base.auth.getToken()\n      });\n      let options = {\n        headers: httpHeaders\n      };\n      base.http.post(cart_update_url,{\n        CartID:base.api.getCartID(),\n        qty:CurrentQTY\n      },options).subscribe((response:any)=>{\n        console.log(response);\n        base.service.LoaderHide();\n        base.fetchCart();\n      })\n    }\n  }\n\n  checkout()\n  {\n    this.navCtrl.push(\"CheckoutPage\");\n  }\n\n  remove(product_id)\n  {\n    console.log(\"remove called\");\n  \n    let base=this;\n    base.service.LoaderShowmsg(\"Removing product from cart\");\n    console.log(base.api.getCartID())\n    var url=base.base_url+\"/removeCart/\"+product_id+\"?CartID=\"+base.api.getCartID();\n    let httpHeaders = new HttpHeaders({\n      'Accept' : 'application/json',\n      'authorization' : \"Bearer \"+base.auth.getToken()\n    });\n\n    let options = {\n      headers: httpHeaders\n    };\n    console.log(url)\n    base.http.get(url,options).subscribe((response:any)=>{\n      console.log(response);\n      if(response.status=='success')\n      {\n        base.service.LoaderHide();\n        base.fetchCart();\n      }\n      else{\n        base.service.LoaderHide();\n      }\n    },err=>{\n      base.service.LoaderHide();\n      base.service.Warning(\"Something went wrong. Try again later\");\n    })\n  }\n\n  shop()\n  {\n    this.navCtrl.setRoot('CategoriesPage');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.ts"],"sourceRoot":""}