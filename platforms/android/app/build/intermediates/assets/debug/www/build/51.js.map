{"version":3,"sources":["../../src/pages/checkout/checkout.module.ts","../../src/pages/checkout/checkout.ts"],"names":[],"mappings":"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","file":"51.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CheckoutPage } from './checkout';\n\n@NgModule({\n  declarations: [\n    CheckoutPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CheckoutPage),\n  ],\n})\nexport class CheckoutPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/checkout/checkout.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { ServiceProvider } from '../../providers/service/service';\nimport { ApiProvider } from '../../providers/api/api';\nimport { NewTransactionPage } from '../instamojo/new_transaction'\nimport { HttpClient } from '@angular/common/http';\n declare var Instamojo:any;\n/**\n * Generated class for the CheckoutPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-checkout',\n  templateUrl: 'checkout.html',\n})\nexport class CheckoutPage {\n  AllAddress:any=[];\n  fname:any='';\n  lname:any='';\n  email:any='';\n  mobile:any='';\n  address:any='';\n  city:any='';\n  pin:any='';\n  ShippingInfo:any;\n  ReportDetails:any;\n  ItemCost:any=0;\n  TotalAmount:any=0;\n  ShippingCost = 0;\n  location:any='';\n  payment:any='';\n  shipping: string;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,public http:HttpClient,public api:ApiProvider,public service:ServiceProvider,public auth:AuthProvider) {\n    let base=this;\n    base.api.GET(\"/GetCart?CartID=\"+base.api.getCartID()).then(function (Cart : any) {\n      console.log(Cart)\n      base.ReportDetails = Cart.data;\n      base.ShippingCost = Cart.data.ReportDetails.totalShipping;\n      base.ItemCost = (Cart.data.ReportDetails.totalAmount)-(Cart.data.ReportDetails.totalShipping);\n      base.TotalAmount = Cart.data.ReportDetails.totalAmount;\n  }).catch( error => {\n\n  });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CheckoutPage');\n    this.getAllAddress();\n  }\n\n\n  getAllAddress(){\n    const base = this;\n    base.service.LoaderShow();\n    base.api.GET(\"/myAddresses\").then(function (address : any) {\n      base.service.LoaderHide();\n      if(address.status=='success')\n      {\n        base.AllAddress=address.data;\n        console.log(base.AllAddress);\n      }\n\n    }).catch( error => {\n      base.service.LoaderHide();\n      base.service.Warning('error');\n    });\n  }\n\n  selectAddress(info)\n  {\n    this.fname=info.firstname;\n    this.lname=info.lastname;\n    this.email=info.email;\n    this.address=info.address1;\n    this.city=info.city;\n    this.pin=info.pin;\n    this.mobile=info.mobile;\n  }\n\n  shippingChange()\n  {\n    const base = this;\n    if(base.shipping == \"inside_katmandu_ringroad\"){\n        base.ShippingCost = base.ShippingInfo.inside_katmandu_ringroad;\n        base.TotalAmount = +base.ItemCost + (+base.ShippingInfo.inside_katmandu_ringroad);\n    } else if (base.shipping == \"inside_katmandu_valley\"){\n        base.ShippingCost = base.ShippingInfo.inside_katmandu_valley;\n        base.TotalAmount = +base.ItemCost +(+base.ShippingInfo.inside_katmandu_valley);\n    } else {\n        base.ShippingCost = base.ShippingInfo.outside_katmandu_valley\n        base.TotalAmount = +base.ItemCost +(+base.ShippingInfo.outside_katmandu_valley);\n    }\n  }\n\n  Checkout()\n  {\n    if(this.shipping=='')\n    {\n      this.service.Warning(\"Choose your shipping location\")\n    }\n\n    if(this.fname=='')\n    {\n      this.service.Warning(\"Enter your first name\")\n    }\n    else if(this.lname=='')\n    {\n      this.service.Warning(\"Enter your last name\")\n    }\n    else if(this.email=='')\n    {\n      this.service.Warning(\"Enter your email\")\n    }\n    else if(this.mobile=='')\n    {\n      this.service.Warning(\"Enter your mobile\")\n    }\n    else if(this.address=='')\n    {\n      this.service.Warning(\"Enter your address\")\n    }\n    else if(this.city=='')\n    {\n      this.service.Warning(\"Enter your city\")\n    }\n    else if(this.pin=='')\n    {\n      this.service.Warning(\"Enter your postal pin\")\n    }else{\n      let base=this;\n      if(base.payment == \"Cash On Delivery\")\n      {\n        base.service.LoaderShowmsg(\"Placing your order\");\n        base.api.POST(\"/AddOrder\", {\n        shipping : base.address,\n        firstname : base.fname,\n        lastname : base.lname,\n        email : base.email,\n        mobile : base.mobile,\n        address1 : base.address,\n        address2 : \"\",\n        pin :base.pin,\n        city : base.city,\n        payment : base.payment,\n        CartID : base.api.getCartID(),\n        payment_id:'',\n        payment_detail:''\n        }).then(function (success : any) {\n          base.service.LoaderHide();\n          if(success.status=='success')\n          {\n              base.navCtrl.setRoot('OrderPage');\n              base.service.Success(\"Order placed successfully\");\n          }\n          else{\n            base.service.Warning(success.data)\n          }\n\n\n        }).catch( error => {\n          base.service.LoaderHide();\n          base.service.Warning(\"Something went wrong. Try again later\")\n        });\n      }\n      else{\n        base.navCtrl.push(NewTransactionPage,{page:'checkout',fname:base.fname,lname:base.lname,email:base.email,mobile:base.mobile,payment:base.payment,total_amt:base.TotalAmount,shipping:base.address,address1:base.address,CartID:base.api.getCartID(),item_total:base.ItemCost,shipping_cost:base.ShippingCost})\n      }\n\n\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/checkout/checkout.ts"],"sourceRoot":""}