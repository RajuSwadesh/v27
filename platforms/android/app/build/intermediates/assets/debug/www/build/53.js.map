{"version":3,"sources":["../../src/pages/chat-message/chat-message.module.ts","../../src/pages/chat-message/chat-message.ts"],"names":[],"mappings":"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","file":"53.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChatMessagePage } from './chat-message';\n\n@NgModule({\n  declarations: [\n    ChatMessagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChatMessagePage),\n  ],\n})\nexport class ChatMessagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-message/chat-message.module.ts","import { Component, ViewChild, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Content, ActionSheetController, LoadingController } from 'ionic-angular';\nimport { ServiceProvider } from '../../providers/service/service';\nimport * as firebase from 'firebase';\nimport { Observable } from 'rxjs/Observable';\nimport { Camera, CameraOptions,CameraPopoverOptions } from '@ionic-native/camera';\nimport { NativeStorage } from '@ionic-native/native-storage';\n/**\n * Generated class for the ChatMessagePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-chat-message',\n  templateUrl: 'chat-message.html',\n})\nexport class ChatMessagePage {\n  @ViewChild('content') content: Content;\n dets : any;\n chatUserId : any;\n name : any;\n message : any = '';\n token : any;\n infos : any;\n ownerId : any;\n fetchMsg : any;\n messageList : any;\n messageLength : any;\n infos2 : any;\n\n cameraSetting : CameraOptions = {\n  quality: 100,\n  sourceType : 1,\n  destinationType: this.camera.DestinationType.DATA_URL,\n  encodingType: this.camera.EncodingType.JPEG,\n  mediaType: this.camera.MediaType.PICTURE,\n  //targetWidth:500,\n   // targetHeight:500,\n  allowEdit:true\n  };\n  cameraSettingGallery : CameraOptions = {\n  quality: 100,\n  sourceType : 2,\n  destinationType: this.camera.DestinationType.DATA_URL,\n  encodingType: this.camera.EncodingType.JPEG,\n  mediaType: this.camera.MediaType.PICTURE,\n  //targetWidth:500,\n  //targetHeight:500,\n  allowEdit:true\n  };\n\n  photo : any;\n  image : any;\n  base64Image : any;\n  constructor(public navCtrl: NavController, public navParams: NavParams,public service : ServiceProvider,\n    public zone : NgZone,private camera: Camera,private storage: NativeStorage,public actionSheetCtrl: ActionSheetController,\n    public loadingCtrl : LoadingController) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChatMessagePage');\n    console.log(localStorage.getItem('api_token'));\n    this.token = localStorage.getItem('api_token');\n    firebase.database().ref('users').orderByChild('api_token').equalTo(this.token).on(\"value\",userDets=>{\n      console.log(userDets.val());\n      this.infos = [];\n      this.infos = this.retriveData(userDets);\n      console.log(this.infos);\n      if(this.infos[0]!= undefined){\n      this.ownerId = this.infos[0].id;\n      }else{\n        this.service.Warning(\"Please re signup for use chatting feature!!\");\n        this.navCtrl.push('CategoriesPage');\n      }\n    })\n    this.dets = this.navParams.get('passInfo');\n    console.log(this.dets);\n    if(this.dets != undefined){\n    this.chatUserId = this.dets.id;\n    console.log(this.chatUserId);\n    this.name = this.dets.name;\n    console.log(this.name);\n  }else{\n    this.navCtrl.push('ChatPage');\n  }\n\n  this.fetchMsg = this.fetchChat().subscribe((res:any)=>{\n    setTimeout(()=>{\n\n    },1000);\n    this.zone.run(()=>{\n      this.messageList = res;\n      this.messageLength = this.messageList.length;\n      console.log(this.messageList);\n      this.scrollto();\n    })\n  })\n  firebase.database().ref('users').on(\"value\",check=>{\n    this.infos2 = [];\n    this.infos2 = this.retriveData(check);\n  })\n  }\n\n  retriveData(data){\n    let returnArr = [];\n    data.forEach(snapshots => {\n      let item = snapshots.val();\n       console.log(item);\n      item.key = snapshots.key;\n      // console.log(item.key);\n        returnArr.push(item);\n    });\n    return returnArr;\n}\n\nscrollto() {\n  setTimeout(() => {\n    this.content.scrollToBottom();\n  }, 1000);\n}\n\n  sendMessage(){\n    console.log(this.message);\n    if(this.message == undefined || this.message == ''){\n      this.service.Warning(\"Cannot send empty message!!\");\n    }else{\n      console.log(this.message);\n      console.log(this.ownerId);\n      console.log(this.chatUserId);\n      firebase.database().ref('user_chat/'+this.ownerId+'/'+this.chatUserId+'/').push({\n        class:'my-message',\n        message:this.message,\n        sentBy:this.ownerId,\n        imageurl:\"\",\n        timestamp:firebase.database.ServerValue.TIMESTAMP\n      }).then(()=>{\n        console.log(this.message);\n        firebase.database().ref('user_chat/'+this.chatUserId+'/'+this.ownerId+'/').push({\n          class:'other-message',\n          message:this.message,\n          imageurl:\"\",\n          sentBy: this.chatUserId,\n          timestamp:firebase.database.ServerValue.TIMESTAMP\n        }).then(()=>{\n          this.message = '';\n        })\n      })\n    }\n    this.scrollto();\n  }\n\n  fetchChat(){\n    return new Observable(observer=>{\n      firebase.database().ref('user_chat/'+this.ownerId+'/'+this.chatUserId).on(\"value\",data=>{\n        var val = data.val();\n        console.log(val);\n        var array = [];\n        for(var i in val){\n          array.push(val[i])\n        }\n        observer.next(array);\n      })\n    })\n  }\n\n  attachFile(){\n    let base = this;\n\t\tlet actionSheet = this.actionSheetCtrl.create({\n\t\t  title: 'Upload Image from Photo Gallery',\n\t\t  buttons: [\n\t\t\t{\n\t\t\t  text: 'Upload Image from Gallery',\n\t\t\t  icon: 'image',\n\t\t\t  handler: () => {\n          let loading = this.loadingCtrl.create({\n            content: 'Please wait...'\n          });\n        \n          //loading.present();\n\t\t\t\tbase.getImage(base.cameraSettingGallery).then((res:any)=>{\n         \n          console.log(res);\n          base.photo = res;\n\n          firebase.database().ref('user_chat/'+this.ownerId+'/'+ this.chatUserId+'/').push({\n            class:'my-message',\n            message:\"\",\n            imageurl:res,\n            sentBy:this.ownerId,\n            timestamp:firebase.database.ServerValue.TIMESTAMP\n          }).then(()=>{\n            console.log(this.message);\n            firebase.database().ref('user_chat/'+ this.chatUserId+'/'+this.ownerId+'/').push({\n              class:'other-message',\n              message:\"\",\n              imageurl:res,\n              sentBy: this.chatUserId,\n              timestamp:firebase.database.ServerValue.TIMESTAMP\n            }).then(()=>{\n    \n               this.message = '';\n            });\n    \n    \n        });\n        })\n\t\t\t  }\n\t\t\t},\n\t\t\t{\n\t\t\t  text: 'Upload Image from Camera',\n\t\t\t  icon: 'camera',\n\t\t\t  handler: () => {\n          let loading = this.loadingCtrl.create({\n            content: 'Please wait...'\n          });\n        \n         // loading.present();\n\t\t\t\tbase.getImage(base.cameraSetting).then((res:any)=>{\n          console.log(res);\n          base.photo = res;\n          firebase.database().ref('user_chat/'+this.ownerId+'/'+ this.chatUserId+'/').push({\n            class:'my-message',\n            message:\"\",\n            imageurl:res,\n            sentBy:this.ownerId,\n            timestamp:firebase.database.ServerValue.TIMESTAMP\n          }).then(()=>{\n            console.log(this.message);\n            firebase.database().ref('user_chat/'+ this.chatUserId+'/'+this.ownerId+'/').push({\n              class:'other-message',\n              message:\"\",\n              imageurl:res,\n              sentBy: this.chatUserId,\n              timestamp:firebase.database.ServerValue.TIMESTAMP\n            }).then(()=>{\n    \n               this.message = '';\n            });\n    \n    \n        });\n\t\t\t\t  // base.datas.push({\n\t\t\t\t\n\t\t\t\t\t// imageurl:res,\n\t\t\t\t\t// timestamp:firebase.database.ServerValue.TIMESTAMP\n          // })\n          // console.log(base.user_id);\n          //  if(base.photo != null){\n          //    this.navCtrl.push(\"AttachfilePage\",{photo:base.photo,chatUserId:base.chatUserId});\n          //  }\n        //  loading.dismiss();\n        })\n       // loading.dismiss();\n\t\t\t  }\n\t\t\t},\n\t\t\t{\n\t\t\t  text: 'Cancel',\n\t\t\t  role: 'cancel',\n\t\t\t  handler: () => {\n        console.log('Cancel clicked');\n       \n        }\n        \n      }\n      \n      ]\n      \n\t\t});\n\n\t\tactionSheet.present();\n  }\n\n  getImage(options){\n    let base = this;\n    return new Promise((resolve,reject)=>{\n      base.camera.getPicture(options).then((imageData) => {\n        let loading = this.loadingCtrl.create({\n          content: 'Please wait...'\n        });\n      \n        loading.present();\n        this.base64Image = \"data:image/png;base64,\"+imageData;\n        console.log(this.base64Image)\n        let imgName=this.newGuid()+'document.jpg';\n        this.uploadImage(imageData,imgName).then((url: any)=>{\n          loading.dismiss();\n          resolve(url)\n        })\n        // console.log(imageData());\n        this.image = imageData;\n      }, (err) => {\n        console.log(err)\n        // Handle error\n      });\n    })\n  }\n\n  newGuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  }\n\n  public uploadImage(blobData : any, ImageName : any){\n    //let base = this;\n    return new  Promise(function (resolve, reject) {\n      let storageRef = firebase.storage().ref('assets/AttachFile');\n      let ref = storageRef.child(ImageName);\n      ref.putString(blobData, 'base64', {contentType: 'image/jpeg'}).then(function (snapshot: any) {\n        ref.getDownloadURL().then((url)=>{\n          resolve(url)\n        })\n      }, function (error: any) {\n        reject({\n          status : \"failed\",\n          URL : error.code\n        });\n      });\n    });\n  }\n \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-message/chat-message.ts"],"sourceRoot":""}