{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"28.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { ApiProvider } from '../../providers/api/api';\nimport { ServiceProvider } from '../../providers/service/service';\nimport { Storage } from '@ionic/storage';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\nimport { GooglePlus } from '@ionic-native/google-plus';\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  base_url:any;\n  email:any='';\n  password:any='';\n  FB_APP_ID: number = 608843466619453;\n  googleMail: any='';\n  displayName: any;\n  constructor(public navCtrl: NavController, public navParams: NavParams,public http:HttpClient, public api:ApiProvider,public service:ServiceProvider,private storage: Storage,private fb: Facebook,private googlePlus: GooglePlus) {\n    this.base_url=api.Base_Url;\n    console.log(this.base_url);\n    //this.fb.api(\"v2.8\");\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LoginPage');\n  }\n\n  googleLogin(){\n    let base=this;\n    this.googlePlus.login({}).then(res =>{\n\n      console.log(res.email);\n      base.googleMail=res.email;\n      base.displayName=res.displayName;\n\n\n      base.service.LoaderShowmsg('Logging you in');\n      let url=base.base_url+'/social-login?email='+base.googleMail+'&name='+base.displayName;\n      console.log(url);\n      base.http.post(url,'').subscribe((data:any) => {\n        console.log(data)\n        if(data.status=='success')\n        {\n          base.service.LoaderHide();\n          this.navCtrl.push('CategoriesPage');\n          localStorage.setItem('user_data',JSON.stringify(data.data));\n          localStorage.setItem('api_token',data.data.api_token);\n          base.api.GET(\"/myProfile\").then(function (success : any) {\n             // base.service.LoaderHide();\n              console.log(success.data)\n              localStorage.setItem('user_data',JSON.stringify(success.data))\n  \n            }).catch( error => {\n              base.service.LoaderHide();\n              base.service.Warning(error)\n            });\n         // base.storage.set('user_data', data.data);\n  \n  \n        }\n        else{\n          base.service.LoaderHide();\n          base.service.Warning(data.data[0])\n        }\n     })\n\n     \n      //console.log(this.googleMail)\n      //base.googleLogin=\n\n    })\n  }\n\n  fbLogin(){\n    let permissions = new Array<string>();\n    let nav = this.navCtrl;\n\n    //the permissions your facebook app needs from the user\n    permissions = ['public_profile', 'user_photos', 'email', 'user_birthday'];\n\n    this.fb.login(permissions)\n    .then((response) => {\n      let userId = response.authResponse.userID;\n      let params = new Array<string>();\nlet base=this;\n      //Getting name and gender properties\n      this.fb.api(\"/me?fields=name,gender,email\", params)\n      .then((user) => {\n        user.picture = \"https://graph.facebook.com/\" + userId + \"/picture?type=large\";\n        //now we have the users info, let's save it in the NativeStorage\n        console.log(user.name);\n        console.log(user.gender);\n        console.log(user.picture)\n        console.log(user.email);\n\n\n        base.service.LoaderShowmsg('Logging you in');\n        let url=base.base_url+'/social-login?email='+user.email+'&name='+user.name;\n        console.log(url);\n        base.http.post(url,'').subscribe((data:any) => {\n          console.log(data)\n          if(data.status=='success')\n          {\n            base.service.LoaderHide();\n            this.navCtrl.push('CategoriesPage');\n            localStorage.setItem('user_data',JSON.stringify(data.data));\n            localStorage.setItem('api_token',data.data.api_token);\n            base.api.GET(\"/myProfile\").then(function (success : any) {\n               // base.service.LoaderHide();\n                console.log(success.data)\n                localStorage.setItem('user_data',JSON.stringify(success.data))\n    \n              }).catch( error => {\n                base.service.LoaderHide();\n                base.service.Warning(error)\n              });\n           // base.storage.set('user_data', data.data);\n    \n    \n          }\n          else{\n            base.service.LoaderHide();\n            base.service.Warning(data.data[0])\n          }\n       })\n\n        // this.nativeStorage.setItem('user',\n        // {\n        //   name: user.name,\n        //   gender: user.gender,\n        //   picture: user.picture\n        // })\n        // .then(() => {\n        //   nav.push('CategoriesPage');\n        // },(error) => {\n        //   console.log(error);\n        // })\n      })\n    }, (error) => {\n      console.log(error);\n    });\n  \n  }\n\n  login() {\n   // this.navCtrl.push('CategoriesPage')\n   let base=this;\n   if(base.email=='')\n   {\n    base.service.Warning('Please Enter Your Registered Email address');\n   }\n   else if(base.password=='')\n   {\n    base.service.Warning('Please Enter Your Password');\n   }\n   else{\n    base.service.LoaderShowmsg('Logging you in');\n    let url=base.base_url+'/auth?email='+base.email+'&password='+base.password;\n    base.http.post(url,'').subscribe((data:any) => {\n      console.log(data)\n      if(data){\n      if(data.status=='success')\n      {\n        base.service.LoaderHide();\n        this.navCtrl.push('CategoriesPage');\n        localStorage.setItem('user_data',JSON.stringify(data.data));\n        localStorage.setItem('api_token',data.data.api_token);\n        base.api.GET(\"/myProfile\").then(function (success : any) {\n           base.service.LoaderHide();\n           console.log(success);\n            console.log(success.data)\n            localStorage.setItem('user_data',JSON.stringify(success.data))\n\n          }).catch( error => {\n            base.service.LoaderHide();\n            base.service.Warning(error)\n          });\n       // base.storage.set('user_data', data.data);\n\n\n      }\n      else{\n        base.service.LoaderHide();\n        console.log(data.data[0]);\n        base.service.Warning(data.data[0])\n      }\n    }else{\n      base.service.LoaderHide();\n      base.service.Warning(\"Invalid username & password!!\");\n    }\n   })\n  }\n}\n\n  gotosignup() {\n    this.navCtrl.push('SignupPage')\n  }\n\n  forgotPass()\n  {\n    this.navCtrl.push('ForgotPasswordPage')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}